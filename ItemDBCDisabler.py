import sys
import os

def patch_file(file_path, patches):
    try:
        with open(file_path, 'r+b') as f:
            for offset, bytes_to_write in patches:
                f.seek(offset)
                f.write(bytearray(bytes_to_write))
        print("Patch applied successfully!")
    except Exception as e:
        print(f"Error applying patch: {e}")

def main():
    if len(sys.argv) < 2:
        file_path = input("Enter the path to the World of Warcraft executable: ").strip()
        if not file_path:
            print("File path cannot be empty.")
            return
    else:
        file_path = sys.argv[1]

    if not os.path.exists(file_path):
        print("File not found.")
        return

    patches = [
                [0x168,[0x5a,0xc5,0x75]],
                [0x11646d,[0x56,0x89,0xe1,0xe8,0xdb,0x1d,0x24,0x0,0x83,0xc4,0x4,0x89,0xc6,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90]],
                [0x1164ac,[0x89,0xf1,0x90]],
                [0x1223f7,[0x56,0x89,0xe1,0xe8,0x51,0x5e,0x23,0x0,0x83,0xc4,0x4,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90]],
                [0x122419,[0x89,0xc7,0x90]],
                [0x1a54ef,[0x90,0x90,0x90,0x90,0x90,0x90,0x8d,0x4d,0xf4]],
                [0x1a54f9,[0x53,0x2d,0x1b]],
                [0x1a5528,[0x90,0x90,0x90]],
                [0x1a552c,[0x45,0xf4]],
                [0x1a572e,[0x90,0x90,0x90,0x90,0x90,0x90,0x89,0xd9]],
                [0x1a5737,[0x15,0x2b,0x1b]],
                [0x1a575c,[0x90,0x90,0x90]],
                [0x1a5760,[0x4d,0xf8]],
                [0x1a7cf5,[0x83,0xc4,0x4,0x56,0x89,0xe1,0xe8,0xd0,0x4,0x1b,0x0,0x83,0xc4,0x4,0xeb,0x17,0xcc,0x89,0xc3,0x89,0xe1,0xe8,0x41,0x5,0x1b]],
                [0x1a7d0f,[0x83,0xc4,0x4,0xe9,0x6b,0x33,0x0,0x0,0xcc,0xcc,0xcc,0xcc,0xcc,0x85,0xc0]],
                [0x1a8c8e,[0x89,0xe1,0xe8,0xbb,0xf5,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1a8c9c,[0x90,0x90,0x90]],
                [0x1aa6d4,[0x89,0xe1,0xe8,0x75,0xdb,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1aa6e2,[0x90,0x90,0x90]],
                [0x1aa821,[0x90,0x8d,0x4d,0x8,0xe8,0xa6,0xd9,0x1a]],
                [0x1aa82a,[0x8b,0xf8,0xe9,0x67,0xbe,0x15,0x0]],
                [0x1aa832,[0xc0]],
                [0x1aa86c,[0x90,0x89,0xf8]],
                [0x1aa8a2,[0x89,0xe1,0xe8,0xa7,0xd9,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1aa8b0,[0x90,0x90,0x90]],
                [0x1aa9d0,[0x89,0xe1,0xe8,0x79,0xd8,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1aa9de,[0x90,0x90,0x90]],
                [0x1aaafa,[0x89,0xe1,0xe8,0x4f,0xd7,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1aab08,[0x90,0x90,0x90]],
                [0x1ab076,[0x89,0xe1,0xe8,0x53,0xd1,0x1a,0x0,0xe9,0x84,0xcc,0xff,0xff]],
                [0x1ab083,[0xc0]],
                [0x1ab0a9,[0x90,0x90,0x85,0xdb]],
                [0x1ab316,[0x89,0xe1,0xe8,0x33,0xcf,0x1a,0x0,0x83,0xc4,0x4]],
                [0x1ab324,[0x90,0x90,0x90]],
                [0x306614,[0x8b,0x41,0x8,0x8d,0x48,0xc,0xe9,0x11,0x1b,0x5,0x0]],
                [0x306620,[0xeb,0xf2,0xcc,0xcc,0xcc,0xcc]],
                [0x306650,[0xeb,0x3a,0xcc,0xcc,0xcc,0xcc]],
                [0x306683,[0x8d,0x48]],
                [0x306686,[0xe9,0x45,0x1b,0x5,0x0,0xcc,0x8b,0x41,0x8,0x8d,0x48,0xc,0xe9,0xe9,0x1a,0x5,0x0,0xcc,0x8d,0x4d,0x8,0xe8,0xb0,0x1b,0x5]],
                [0x3066a0,[0xe9,0x8c,0x41,0xea,0xff,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc]],
                [0x306703,[0x8d,0x48]],
                [0x306706,[0xe9,0x45,0x1b,0x5,0x0,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc]],
                [0x306733,[0x8d,0x48]],
                [0x306736,[0xe9,0x15,0x1c,0x5,0x0,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc,0xcc]],
                [0x309e03,[0x8d,0x48]],
                [0x309e06,[0xe8,0x45,0xe4,0x4,0x0,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90]],
                [0x358136,[0x56,0x8b,0x31,0x89,0xf0]],
                [0x35813c,[0x1,0x99,0x6a,0x0,0x68,0x70,0xeb,0x5e,0x0,0x33,0xc2,0x8d,0x4d,0xf8,0x51,0x2b,0xc2,0x50,0xb9,0x28,0xd8,0xc5,0x0,0xc7,0x45,0xf8]],
                [0x358157,[0x0,0x0,0x0,0xc7,0x45,0xfc]],
                [0x35815e,[0x0,0x0,0x0,0xe8,0xca,0x3c,0xf2,0xff,0x85,0xc0,0x74,0x8]],
                [0x35816b,[0x40,0x4,0x5e,0x8b,0xe5,0x5d,0xc3,0x89,0xf0,0x5e,0x89,0xec,0x5d,0xe9,0xa9,0xe4,0xfa,0xff]],
                [0x358186,[0x56,0x8b,0x31,0x89,0xf0]],
                [0x35818c,[0x1,0x99,0x6a,0x0,0x68,0x70,0xeb,0x5e,0x0,0x33,0xc2,0x8d,0x4d,0xf8,0x51,0x2b,0xc2,0x50,0xb9,0x28,0xd8,0xc5,0x0,0xc7,0x45,0xf8]],
                [0x3581a7,[0x0,0x0,0x0,0xc7,0x45,0xfc]],
                [0x3581ae,[0x0,0x0,0x0,0xe8,0x7a,0x3c,0xf2,0xff,0x85,0xc0,0x74]],
                [0x3581bb,[0x40,0x8,0x5e,0x8b,0xe5,0x5d,0xc3,0x89,0xf0,0x5e,0x89,0xec,0x5d,0xe9,0x89,0xe4,0xfa,0xff]],
                [0x61be58,[0x7c,0x7c]]
    ]

    patch_file(file_path, patches)

if __name__ == "__main__":
    main()
